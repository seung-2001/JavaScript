<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>이벤트</title>

    <style>
      .area {
        background-color: beige;
        border: 1px solid palegoldenrod;
        height: 100px;
      }

      .style {
        background-color: yellowgreen;
      }
    </style>
  </head>
  <body>
    <h1>이벤트</h1>

    <!-- 
        * 이벤트 관련 용어정리

        event : 브라우저에서 발생하는 사건(동작, 행위)
        event target : 이벤트가 일어날(난) 객체
        event type : 이벤트 종류(click, mouseover, scroll, keydown)
        event listener : event를 감지하다가 감지되면 event handler를 수행
        event handler : 이벤트가 발생했을 때 동작할 코드들의 집합
        
        * 이벤트 모델 종류
        1. 고전 이벤트 모델 => 요소객체.onclick = 이벤트핸들러
        2. 인라인 이벤트 모델 => <요소 onclick="함수();"></d요소>
        3. 표준 이벤트 모델 => 요소.addEventListener();

    -->

    <h3>* 고전 이벤트 모델(기본 이벤트 모델)</h3>

    <p>
      해당 요소객체의 이벤트 속성에 접근한 후 <br />
      이벤트 핸들러를 대입하는 방식 <br /><br />

      [ 표현법 ] <br />
      객체명.(이벤트)속성명 = () => {} <br />
      => null을 대입하면 이벤트가 제거됨
    </p>

    <button id="btn1">뻐어튼</button><br />
    <button id="btn2">뻐어튼</button>
    <div id="area1" class="area"></div>

    <script>
      const area1 = document.querySelector("#area1");
      /*
        querySelector VS getElementById

        * 일반적으로 querySelector를 권장함
        * 성능이 필요한 시점엔 getElementById 더 빠를 수 있음
      */

      // target(이벤트가 발생할 객체)에 접근하기
      const btn1 = document.getElementById("btn1");
      // eventtype을 지정
      btn1.onclick = function () {
        // eventHandler 대입
        area1.innerHTML += "btn1클릭<br>";
      };

      // btn2인 버튼을 클릭했을 때 btn1에게 달린 이벤트를 제거
      document.getElementById("btn2").onclick = () => {
        btn1.onclick = null;
        area1.innerHTML = "이벤트 없앴지롱~~";
      };
    </script>

    <hr />

    <h3>* 인라인 이벤트 모델</h3>

    <p>
      요소 내부에 직접적으로 이벤트 속성을 적어서 정의하는 방식 <br />
      주로 js모듈에 정의한 함수를 호출하는 방법을 선호
    </p>

    <button
      onclick="document.getElementById('area1').innerHTML='클릭'; alert('띄워띄워')"
    >
      극단적으로
    </button>

    <h3>* 표준 이벤트 모델(addEventListener)</h3>

    <pre>
        [ 표현법 ]

        요소객체.addEventListener('이벤트명', 이벤트핸들러);
    </pre>

    <button id="btn3">이벤또~</button>

    <script>
      const btn = document.getElementById("btn3");

      btn.addEventListener("click", () => {
        alert("표준 이벤트 모델 테스트");
      });

      // mouseenter : 포인터가 보더안으로 들어가는 순간
      btn.addEventListener("mouseenter", () => {
        // btn.style.backgroundColor = "yellowgreen";
        btn.classList.add("style");
      });

      // mouseout : 보더밖으로 포인터가 빠져나가는 순간
      btn.addEventListener("mouseout", () => {
        // btn.style.backgroundColor = null;
        btn.classList.remove("style");
      });
    </script>

    <hr />

    <h3>2. 현재 이벤트가 발생한 요소객체(이벤트타겟)에 접근하는 방법</h3>

    <button id="btn4">고전 이벤트 방식</button>
    <button id="btn5">표준 이벤트 방식</button>

    <button onclick="exFn(this);">인라인 이벤트 방식1</button>
    <button onclick="exFn(this);">인라인 이벤트 방식2</button>

    <script>
      // 인라인 이벤트 모델
      function exFn(e) {
        // 버튼을 클릭했을 때 클릭한 요소의 컨텐트 값을 클릭됨!!으로 변경
        console.log(e);
        e.innerHTML = "클릭됨!";
      }

      // 고전 이벤트 방식
      document.getElementById("btn4").onclick = () => {
        // 먼저 이벤트 타입부터 알아보자!
        console.log(window.event);
      };
    </script>
  </body>
</html>
